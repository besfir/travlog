import{ah as S,n as w,ai as R,t as B,aj as T,ak as P,G as j,al as L,Z as q,s as I,am as F,ac as M,C as g,an as Q,ao as H,ap as U,ag as C,ab as z}from"./entry.D3pvScdW.js";import{u as $}from"./preview.D1Jw1DPV.js";const G=n=>n==="defer"||n===!1;function te(...n){var v;const r=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(r);let[e,i,a={}]=n;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=L(),t=i,c=()=>null,f=()=>s.isHydrating?s.payload.data[e]:s.static.data[e];a.server=a.server??!0,a.default=a.default??c,a.getCachedData=a.getCachedData??f,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0,a.deep=a.deep??S.deep,a.dedupe=a.dedupe??"cancel";const p=()=>![null,void 0].includes(a.getCachedData(e));if(!s._asyncData[e]||!a.immediate){(v=s.payload._errors)[e]??(v[e]=null);const l=a.deep?w:R;s._asyncData[e]={data:l(a.getCachedData(e)??a.default()),pending:w(!p()),error:B(s.payload._errors,e),status:w("idle")}}const o={...s._asyncData[e]};o.refresh=o.execute=(l={})=>{if(s._asyncDataPromises[e]){if(G(l.dedupe??a.dedupe))return s._asyncDataPromises[e];s._asyncDataPromises[e].cancelled=!0}if((l._initial||s.isHydrating&&l._initial!==!1)&&p())return Promise.resolve(a.getCachedData(e));o.pending.value=!0,o.status.value="pending";const y=new Promise((u,d)=>{try{u(t(s))}catch(A){d(A)}}).then(u=>{if(y.cancelled)return s._asyncDataPromises[e];let d=u;a.transform&&(d=a.transform(u)),a.pick&&(d=K(d,a.pick)),s.payload.data[e]=d,o.data.value=d,o.error.value=null,o.status.value="success"}).catch(u=>{if(y.cancelled)return s._asyncDataPromises[e];o.error.value=q(u),o.data.value=I(a.default()),o.status.value="error"}).finally(()=>{y.cancelled||(o.pending.value=!1,delete s._asyncDataPromises[e])});return s._asyncDataPromises[e]=y,s._asyncDataPromises[e]};const m=()=>o.refresh({_initial:!0}),k=a.server!==!1&&s.payload.serverRendered;{const l=F();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const u=l._nuxtOnBeforeMountCbs;l&&(T(()=>{u.forEach(d=>{d()}),u.splice(0,u.length)}),P(()=>u.splice(0,u.length)))}k&&s.isHydrating&&(o.error.value||p())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):l&&(s.payload.serverRendered&&s.isHydrating||a.lazy)&&a.immediate?l._nuxtOnBeforeMountCbs.push(m):a.immediate&&m(),a.watch&&j(a.watch,()=>o.refresh());const y=s.hook("app:data:refresh",async u=>{(!u||u.includes(e))&&await o.refresh()});l&&P(y)}const D=Promise.resolve(s._asyncDataPromises[e]).then(()=>o);return Object.assign(D,o),D}function K(n,r){const e={};for(const i of r)e[i]=n[i];return e}const b=(n,r)=>r.split(".").reduce((e,i)=>e&&e[i],n),_=(n,r)=>Object.keys(n).filter(r).reduce((e,i)=>Object.assign(e,{[i]:n[i]}),{}),ne=n=>r=>n&&n.length?_(r,e=>!n.includes(e)):r,re=n=>r=>Array.isArray(r)?r.map(e=>n(e)):n(r),E=n=>{const r=[],e=[];for(const i of n)["$","_"].includes(i)?r.push(i):e.push(i);return{prefixes:r,properties:e}},ae=(n=[])=>r=>{if(n.length===0||!r)return r;const{prefixes:e,properties:i}=E(n);return _(r,a=>!i.includes(a)&&!e.includes(a[0]))},se=(n=[])=>r=>{if(n.length===0||!r)return r;const{prefixes:e,properties:i}=E(n);return _(r,a=>i.includes(a)||e.includes(a[0]))},ie=(n,r)=>{const e=new Intl.Collator(r.$locale,{numeric:r.$numeric,caseFirst:r.$caseFirst,sensitivity:r.$sensitivity}),i=Object.keys(r).filter(a=>!a.startsWith("$"));for(const a of i)n=n.sort((s,t)=>{const c=[b(s,a),b(t,a)].map(f=>{if(f!==null)return f instanceof Date?f.toISOString():f});return r[a]===-1&&c.reverse(),e.compare(c[0],c[1])});return n},oe=(n,r="Expected an array")=>{if(!Array.isArray(n))throw new TypeError(r)},h=n=>Array.isArray(n)?n:[void 0,null].includes(n)?[]:[n],N=["sort","where","only","without"];function W(n,r={}){const e={};for(const t of Object.keys(r.initialParams||{}))e[t]=N.includes(t)?h(r.initialParams[t]):r.initialParams[t];const i=(t,c=f=>f)=>(...f)=>(e[t]=c(...f),s),a=t=>{var c;return r.legacy?t!=null&&t.surround?t.surround:t&&(t!=null&&t.dirConfig&&(t.result={_path:(c=t.dirConfig)==null?void 0:c._path,...t.result,_dir:t.dirConfig}),t!=null&&t._path||Array.isArray(t)||!Object.prototype.hasOwnProperty.call(t,"result")?t:t==null?void 0:t.result):t},s={params:()=>({...e,...e.where?{where:[...h(e.where)]}:{},...e.sort?{sort:[...h(e.sort)]}:{}}),only:i("only",h),without:i("without",h),where:i("where",t=>[...h(e.where),...h(t)]),sort:i("sort",t=>[...h(e.sort),...h(t)]),limit:i("limit",t=>parseInt(String(t),10)),skip:i("skip",t=>parseInt(String(t),10)),find:()=>n(s).then(a),findOne:()=>n(i("first")(!0)).then(a),count:()=>n(i("count")(!0)).then(a),locale:t=>s.where({_locale:t}),withSurround:i("surround",(t,c)=>({query:t,...c})),withDirConfig:()=>i("dirConfig")(!0)};return r.legacy&&(s.findSurround=(t,c)=>s.withSurround(t,c).find().then(a)),s}function O(n){return JSON.stringify(n,J)}function J(n,r){return r instanceof RegExp?`--REGEX ${r.toString()}`:r}const V=n=>{let r=O(n);return r=typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r),r=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(r.match(/.{1,100}/g)||[]).join("/")},x=n=>M(n,g().public.content.api.baseURL),ce=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},X=()=>{const{experimental:n}=g().public.content;return n.clientDB?!0:$().isEnabled()},Y=()=>async n=>{const{content:r}=g().public,e=n.params(),i=r.experimental.stripQueryParameters?x(`/query/${`${C(e)}.${r.integrity}`}/${V(e)}.json`):x(`/query/${C(e)}.${r.integrity}.json`);if(X())return(await z(()=>import("./client-db.BBeYrUMd.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(t=>t.useContentDatabase())).fetch(n);const a=await $fetch(i,{method:"GET",responseType:"json",params:r.experimental.stripQueryParameters?void 0:{_params:O(e),previewToken:$().getPreviewToken()}});if(typeof a=="string"&&a.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return a};function ue(n,...r){const{content:e}=g().public,i=W(Y(),{initialParams:typeof n!="string"?n:{},legacy:!0});let a;typeof n=="string"&&(a=Q(H(n,...r)));const s=i.params;return i.params=()=>{var c,f,p;const t=s();return a&&(t.where=t.where||[],t.first&&(t.where||[]).length===0?t.where.push({_path:U(a)}):t.where.push({_path:new RegExp(`^${a.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(c=t.sort)!=null&&c.length||(t.sort=[{_file:1,$numeric:!0}]),e.locales.length&&((p=(f=t.where)==null?void 0:f.find(m=>m._locale))!=null&&p._locale||(t.where=t.where||[],t.where.push({_locale:e.defaultLocale}))),t},i}export{ce as a,oe as b,h as c,ie as d,V as e,re as f,b as g,ae as h,se as i,O as j,W as k,ne as o,ue as q,X as s,te as u,x as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.BBeYrUMd.js","./entry.D3pvScdW.js","./entry.C6hpxRNT.css","./index.BsYmvPZw.js","./_commonjsHelpers.BosuxZz1.js","./preview.D1Jw1DPV.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
